webpackJsonp([12],{"4/Yt":function(o,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=t("LYZK"),n={data:function(){return{beforeRoute:"",showOrHidden:{loginName:{placeholder:"请输入用户名",lineColor:"border-bottom-color:#DCDFE6;",flag:!1,msgFlag:!1},password:{placeholder:"请输入密码",lineColor:"border-bottom-color:#DCDFE6;",flag:!1,msgFlag:!1}},loginName:"",password:"",loginBtn:!0,defaultLogin:!0,showCountdown:!1,text1:"请输入用户名",text2:"请输入密码",errorMsg:""}},beforeRouteEnter:function(o,s,t){t(function(o){o.beforeRoute=s.path})},methods:{onSubmit:function(o){var s=this;this.defaultLogin?e.a.login(o).then(function(o){o.data.succ?("/regist"===s.beforeRoute&&(s.beforeRoute="/"),s.$router.push({path:s.beforeRoute})):s.$toast.fail(o.data.msg)}):e.a.mobileLogin(o).then(function(o){o.data.succ?("/regist"!==s.beforeRoute&&"/login"!==s.beforeRoute||(s.beforeRoute="/"),s.$router.push({path:s.beforeRoute})):s.$toast.fail(o.data.msg)})},getFocus:function(o){"loginName"===o?(this.showOrHidden.loginName.flag=!0,this.showOrHidden.loginName.lineColor="border-bottom-color:#03A9F4;",this.showOrHidden.loginName.placeholder=""):(this.showOrHidden.password.flag=!0,this.showOrHidden.password.lineColor="border-bottom-color:#03A9F4;",this.showOrHidden.password.placeholder="")},loseFocus:function(o){"loginName"===o?(this.showOrHidden.loginName.placeholder=this.text1,this.showOrHidden.loginName.lineColor="border-bottom-color:#DCDFE6;",this.loginName.length>0?this.showOrHidden.loginName.flag=!0:this.showOrHidden.loginName.flag=!1):(this.showOrHidden.password.placeholder=this.text2,this.showOrHidden.password.lineColor="border-bottom-color:#DCDFE6;",this.password.length>0?this.showOrHidden.password.flag=!0:this.showOrHidden.password.flag=!1),this.loginName.length>0&&this.password.length>0?this.loginBtn=!1:this.loginBtn=!0},inputing:function(){this.loginName.length>0&&this.password.length>0?this.loginBtn=!1:this.loginBtn=!0},forgetPwd:function(){this.$router.push("/regist")},regist:function(){this.$router.push("/regist")},veryfyCodeLogin:function(){this.defaultLogin=!1,this.text1="请输入手机号码",this.text2="请输入验证码",this.showOrHidden.loginName.placeholder=this.text1,this.showOrHidden.password.placeholder=this.text2},sendCode:function(){var o=this;/^1[0-9]{10}$/.test(this.loginName)?e.a.isBindPhone(this.loginName).then(function(s){s.data.succ?(o.errorMsg="",e.a.sendCode(o.loginName).then(function(s){s.data.succ?(o.showCountdown=!0,o.$refs.countDown.start()):o.errorMsg=s.data.msg})):o.errorMsg=s.data.msg}):this.errorMsg="请输入正确的手机号码"},accountPwdLogin:function(){this.defaultLogin=!0,this.text1="请输入用户名",this.text2="请输入密码",this.showOrHidden.loginName.placeholder=this.text1,this.showOrHidden.password.placeholder=this.text2,this.errorMsg=""},finish:function(){this.showCountdown=!1}}},i={render:function(){var o=this,s=o.$createElement,t=o._self._c||s;return t("div",{staticClass:"entry"},[t("div",{staticClass:"header-title"},[o._v("登录注册")]),o._v(" "),t("div",{staticClass:"logo"},[t("van-image",{attrs:{src:"https://lovbe-lvyiclub.oss-cn-beijing.aliyuncs.com/exam/logo.png",height:"140px",width:"140px"}})],1),o._v(" "),t("div",{staticClass:"errorMsg"},[o._v(o._s(o.errorMsg))]),o._v(" "),t("van-form",{on:{submit:o.onSubmit}},[o.defaultLogin?t("div",{staticClass:"default"},[t("div",{staticClass:"loginName"},[t("van-row",{directives:[{name:"show",rawName:"v-show",value:o.showOrHidden.loginName.flag,expression:"showOrHidden.loginName.flag"}],staticClass:"hidden"},[t("van-col",{staticClass:"text"},[o._v("请输入用户名")])],1),o._v(" "),t("van-row",{staticClass:"input"},[t("van-field",{attrs:{name:"loginName",placeholder:o.showOrHidden.loginName.placeholder},on:{blur:function(s){return o.loseFocus("loginName")},focus:function(s){return o.getFocus("loginName")},input:function(s){return o.inputing()}},model:{value:o.loginName,callback:function(s){o.loginName=s},expression:"loginName"}})],1),o._v(" "),t("div",{staticClass:"line",style:o.showOrHidden.loginName.lineColor})],1),o._v(" "),t("div",{staticClass:"password"},[t("van-row",{directives:[{name:"show",rawName:"v-show",value:o.showOrHidden.password.flag,expression:"showOrHidden.password.flag"}],staticClass:"hidden"},[t("van-col",{staticClass:"text"},[o._v("请输入密码")])],1),o._v(" "),t("van-row",{staticClass:"input"},[t("van-field",{attrs:{type:"password",name:"password",placeholder:o.showOrHidden.password.placeholder},on:{blur:function(s){return o.loseFocus("password")},focus:function(s){return o.getFocus("password")},input:function(s){return o.inputing()}},model:{value:o.password,callback:function(s){o.password=s},expression:"password"}})],1),o._v(" "),t("div",{staticClass:"line",style:o.showOrHidden.password.lineColor})],1)]):o._e(),o._v(" "),o.defaultLogin?o._e():t("div",{staticClass:"veryfyCode"},[t("div",{staticClass:"phone"},[t("van-row",{directives:[{name:"show",rawName:"v-show",value:o.showOrHidden.loginName.flag,expression:"showOrHidden.loginName.flag"}],staticClass:"hidden"},[t("van-col",{staticClass:"text"},[o._v("请输入手机号")])],1),o._v(" "),t("van-row",{staticClass:"input"},[t("van-field",{attrs:{name:"loginName",placeholder:o.showOrHidden.loginName.placeholder},on:{blur:function(s){return o.loseFocus("loginName")},focus:function(s){return o.getFocus("loginName")},input:function(s){return o.inputing()}},model:{value:o.loginName,callback:function(s){o.loginName=s},expression:"loginName"}})],1),o._v(" "),t("div",{staticClass:"line",style:o.showOrHidden.loginName.lineColor})],1),o._v(" "),t("div",{staticClass:"code"},[t("van-row",{directives:[{name:"show",rawName:"v-show",value:o.showOrHidden.password.flag,expression:"showOrHidden.password.flag"}],staticClass:"hidden"},[t("van-col",{staticClass:"text"},[o._v("请输入验证码")])],1),o._v(" "),t("van-row",{staticClass:"input"},[t("van-col",{attrs:{span:"17"}},[t("van-field",{attrs:{name:"password",placeholder:o.showOrHidden.password.placeholder},on:{blur:function(s){return o.loseFocus("password")},focus:function(s){return o.getFocus("password")},input:function(s){return o.inputing()}},model:{value:o.password,callback:function(s){o.password=s},expression:"password"}})],1),o._v(" "),t("van-col",{directives:[{name:"show",rawName:"v-show",value:!o.showCountdown,expression:"!showCountdown"}],staticClass:"text",attrs:{span:"7"},on:{click:function(s){return o.sendCode()}}},[o._v("获取验证码")]),o._v(" "),t("van-col",{directives:[{name:"show",rawName:"v-show",value:o.showCountdown,expression:"showCountdown"}],staticClass:"text",attrs:{span:"7"}},[t("van-count-down",{ref:"countDown",attrs:{format:"sss后获取",time:12e4,"auto-start":!1},on:{finish:o.finish}})],1)],1),o._v(" "),t("div",{staticClass:"line",style:o.showOrHidden.password.lineColor})],1)]),o._v(" "),t("van-row",[t("van-col",{staticClass:"forgetpwd",on:{click:function(s){return o.forgetPwd()}}},[o._v("忘记密码")]),o._v(" "),t("van-col",{staticClass:"regist",on:{click:function(s){return o.regist()}}},[o._v("注册账号")])],1),o._v(" "),t("div",{staticClass:"sumitBtn"},[t("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit",disabled:o.loginBtn}},[o._v("登录")])],1)],1),o._v(" "),t("van-divider",{style:{color:"#B4B6BD",borderColor:"#B4B6BD",padding:"0 16px"}},[o._v("其他登陆方式")]),o._v(" "),t("van-row",[o.defaultLogin?t("van-col",{staticClass:"ph",on:{click:function(s){return o.veryfyCodeLogin()}}},[t("van-icon",{attrs:{name:"https://lovbe-lvyiclub.oss-cn-beijing.aliyuncs.com/exam/icon/icon_phone.png",size:"25px"}}),o._v(" "),t("span",{staticClass:"text"},[o._v("手机验证码登录")])],1):t("van-col",{staticClass:"ph",on:{click:function(s){return o.accountPwdLogin()}}},[t("van-icon",{attrs:{name:"user-o",color:"#1A8CFE",size:"18"}}),o._v(" "),t("span",{staticClass:"text"},[o._v("账号密码登录")])],1)],1)],1)},staticRenderFns:[]};var a=t("VU/8")(n,i,!1,function(o){t("vkFQ")},"data-v-31f29fbf",null);s.default=a.exports},vkFQ:function(o,s){}});
//# sourceMappingURL=12.c4454b25369fe2067a06.js.map